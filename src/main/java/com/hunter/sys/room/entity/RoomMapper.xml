<?xml version="1.0" encoding="UTF-8" ?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" ><mapper namespace="com.hunter.sys.room.dao.RoomDao">    <resultMap id="allResultMap" type="com.hunter.sys.room.entity.RoomEntity">        <id property="id" column="id"/>        <result property="roomName" column="room_name"/>        <result property="roomNumber" column="room_number"/>        <result property="parentId" column="parent_id"/>        <result property="parentName" column="parent_name"/>        <result property="roomType" column="room_type"/>        <result property="roomPassword" column="room_password"/>        <result property="maxPlayer" column="max_player"/>        <result property="times" column="times"/>        <result property="baseScore" column="base_score"/>        <result property="redPacketNumber" column="red_packet_number"/>        <result property="hasDel" column="has_del"/>        <result property="createTime" column="create_time"/>        <result property="createName" column="create_name"/>        <result property="modifyTime" column="modify_time"/>        <result property="modifyName" column="modify_name"/>    </resultMap>    <sql id="tableColumn">        (room_name,room_number,parent_id,parent_name,room_type,room_password,max_player,times,base_score,red_packet_number,has_del,create_time,create_name,modify_time,modify_name)    </sql>    <sql id="beanProperty">        (#{roomName},#{roomNumber},#{parentId},#{parentName},#{roomType},#{roomPassword},#{maxPlayer},#{times},#{baseScore},#{redPacketNumber},#{hasDel},#{createTime},#{createName}        ,#{modifyTime},#{modifyName})    </sql>    <!--增加数据-->    <insert id="insertOne" useGeneratedKeys="true" keyProperty="id" parameterType="com.hunter.sys.room.entity.RoomEntity">        insert into p_room        <include refid="tableColumn"></include>        VALUES        <include refid="beanProperty"></include>    </insert>    <!--删除-->    <delete id="deleteById">        delete from p_room where id=#{id}    </delete>    <delete id="deleteByEntity" parameterType="com.hunter.sys.room.entity.RoomEntity">        delete from p_room where id=#{id}    </delete>    <!--修改-->    <update id="updateByEntity" parameterType="com.hunter.sys.room.entity.RoomEntity">        update p_room        <set>            <if test="room_name !=null">room_name = #{roomName},</if>            <if test="parent_id !=null">parent_id = #{parentId},</if>            <if test="parent_name !=null">parent_name = #{parentName},</if>            <if test="room_type !=null">room_type = #{roomType},</if>            <if test="room_password !=null">room_password = #{roomPassword},</if>            <if test="max_player !=null">max_player = #{maxPlayer},</if>            <if test="times !=null">times = #{times},</if>            <if test="base_score !=null">base_score = #{baseScore},</if>            <if test="red_packet !=null">red_packet = #{redPacket},</if>            <if test="hasDel !=null">has_del = #{hasDel},</if>            <if test="createTime !=null">create_time = #{createTime},</if>            <if test="createName !=null">create_name = #{createName},</if>            <if test="modifyTime !=null">modify_time = #{modifyTime},</if>            <if test="modifyName !=null">modify_name = #{modifyName}</if>        </set>        where id=#{id}    </update>    <!--查询-->    <select id="findAll" resultMap="allResultMap">        select * from p_room where has_del=0 order by create_time desc    </select>    <select id="findOneById" resultMap="allResultMap">        select * from p_room where has_del=0 and id=#{id}    </select>    <select id="findListByMap" parameterType="map" resultMap="allResultMap">        select * from p_room where has_del=0        <foreach collection="paraMap" item="value" index="key">            <if test="key=='roomName' and value !=null and value != '' ">and room_name like concat('%',trim(#{value}),'%')</if>            <if test="key=='parentName' and value!=null and value!=''">and parent_name like concat('%',trim(#{value}),'%')</if>        </foreach>        order by create_time desc    </select></mapper>