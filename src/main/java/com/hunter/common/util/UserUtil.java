package com.hunter.common.util;import com.hunter.sys.user.entity.SysUser;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.web.context.request.RequestContextHolder;import org.springframework.web.context.request.ServletRequestAttributes;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpSession;/** * @Author zhangcl * @Date 17/5/30  上午9:53 */public class UserUtil {    private static Logger LOGGER = LoggerFactory.getLogger(UserUtil.class);    private UserUtil() {    }    /**     * 获取当前用户     *     * @return     */    public static SysUser getCurrentUser() {        HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();        HttpSession session = request.getSession();        SysUser user;        try {            user = (SysUser) session.getAttribute("user");        } catch (Exception e) {            LOGGER.error("there is no user in session",e);            throw new RuntimeException("there is no user in session");        }        return user;    }    /**     * 获取当前用户账号     *     * @return     */    public static String getCurrentUserAccount() {        SysUser user = getCurrentUser();        String userAccount = "";        if (user != null) {            userAccount = user.getUserAccount();        }        return userAccount;    }}