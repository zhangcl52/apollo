package com.hunter.base.interceptor;import com.hunter.common.constant.SysConstant;import com.hunter.sys.user.entity.SysUser;import org.springframework.web.servlet.HandlerInterceptor;import org.springframework.web.servlet.ModelAndView;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import javax.servlet.http.HttpSession;/** * @Author zhangcl * @Date 17/5/24  下午9:08 */public class LoginInterceptor implements HandlerInterceptor {    @Override    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object o) throws Exception {        String url= request.getRequestURI();        //登录和接口访问时放行        if(url.indexOf(SysConstant.LOGIN)>0 || url.indexOf(SysConstant.API)>0){            return true;        }        HttpSession session=request.getSession();        SysUser user=(SysUser) session.getAttribute("user");        if(user!=null){            return true;        }        //执行到这里表示用户身份需要验证，跳转到登陆页面        response.sendRedirect("/login.jsp");        return false;    }    @Override    public void postHandle(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, ModelAndView modelAndView) throws Exception {    }    @Override    public void afterCompletion(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, Exception e) throws Exception {    }}